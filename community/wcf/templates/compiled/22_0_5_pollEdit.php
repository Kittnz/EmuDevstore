<?php
/**
* WoltLab Community Framework
* Template: pollEdit
* Compiled at: Tue, 13 Aug 2013 11:30:44 +0000
* 
* DO NOT EDIT THIS FILE
*/
$this->v['tpl']['template'] = 'pollEdit';
?>
<?php
if (!isset($this->pluginObjects['TemplatePluginFunctionHtmloptions'])) {
require_once(WCF_DIR.'lib/system/template/plugin/TemplatePluginFunctionHtmloptions.class.php');
$this->pluginObjects['TemplatePluginFunctionHtmloptions'] = new TemplatePluginFunctionHtmloptions;
}
?><div id="pollEdit">
	<script src="<?php echo RELATIVE_WCF_DIR; ?>js/Calendar.class.js" type="text/javascript"></script>
	<script type="text/javascript">
		//<![CDATA[
		var calendar = new Calendar('<?php echo StringUtil::encodeHTML($this->v['monthList']); ?>', '<?php echo StringUtil::encodeHTML($this->v['weekdayList']); ?>', <?php echo $this->v['startOfWeek']; ?>);
		//]]>
	</script>
	
	<fieldset class="noJavaScript">
		<legend class="noJavaScript">Umfrage</legend>
		<div class="formElement">
			<div class="formFieldLabel">
				<label for="pollQuestion">Frage</label>
			</div>
			<div class="formField">
				<input type="text" class="inputText" name="pollQuestion" id="pollQuestion" value="<?php echo StringUtil::encodeHTML($this->v['pollQuestion']); ?>" />
			</div>
		</div>
		
		<div class="formElement<?php if ($this->v['errorField'] == 'pollOptions') { ?> formError<?php } ?>">
			<div class="formFieldLabel">
				<label for="pollOptions">Antworten</label>
			</div>
			<div class="formField">
				<textarea name="pollOptions" id="pollOptions" rows="5" cols="20"><?php echo StringUtil::encodeHTML($this->v['pollOptions']); ?></textarea>
				<?php if ($this->v['errorField'] == 'pollOptions') { ?>
					<p class="innerError">
						<?php if ($this->v['errorType'] == 'notEnoughOptions') { ?>Sie müssen mindestens zwei Antworten eintragen.<?php } ?>
						<?php if ($this->v['errorType'] == 'tooMuch') { ?>Sie haben zu viele Antworten eingetragen. Maximal sind <?php echo StringUtil::encodeHTML(POLL_MAX_OPTIONS); ?> Antworten erlaubt.<?php } ?>
					</p>
				<?php } ?>
			</div>
			<div class="formFieldDesc">
				<p>Eine Antwort pro Zeile - maximal <?php echo StringUtil::encodeHTML(POLL_MAX_OPTIONS); ?> Antworten</p>
			</div>
		</div>
		<div class="formGroup<?php if ($this->v['errorField'] == 'endTime') { ?> formError<?php } ?>">
			<div class="formGroupLabel">
				<label>Umfrage endet am (optional)</label>
			</div>
			<div class="formGroupField">
				<fieldset>
					<legend><label>Umfrage endet am (optional)</label></legend>
		
					<div class="formField">
						<div class="floatedElement">
							<label for="endTimeDay">Tag</label>
							<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['dayOptions'], 'selected' => $this->v['endTimeDay'], 'id' => 'endTimeDay', 'name' => 'endTimeDay'), $this); ?>
						</div>
						
						<div class="floatedElement">
							<label for="endTimeMonth">Monat</label>
							<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['monthOptions'], 'selected' => $this->v['endTimeMonth'], 'id' => 'endTimeMonth', 'name' => 'endTimeMonth'), $this); ?>
						</div>
						
						<div class="floatedElement">
							<label for="endTimeYear">Jahr</label>
							<input id="endTimeYear" class="inputText fourDigitInput" type="text" name="endTimeYear" value="<?php echo $this->v['endTimeYear']; ?>" maxlength="4" />
						</div>
						
						<div class="floatedElement">
							<label for="endTimeHour">Stunde</label>
							<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['hourOptions'], 'selected' => $this->v['endTimeHour'], 'id' => 'endTimeHour', 'name' => 'endTimeHour'), $this); ?> :
						</div>
															
						<div class="floatedElement">
							<label for="endTimeMinutes">Minuten</label>
							<?php echo $this->pluginObjects['TemplatePluginFunctionHtmloptions']->execute(array('options' => $this->v['minuteOptions'], 'selected' => $this->v['endTimeMinutes'], 'id' => 'endTimeMinutes', 'name' => 'endTimeMinutes'), $this); ?>
						</div>
						
						<div class="floatedElement">
							<a id="endTimeButton"><img src="<?php echo StyleManager::getStyle()->getIconPath('datePickerOptionsM.png'); ?>" alt="" /></a>
							<div id="endTimeCalendar" class="inlineCalendar"></div>
							<script type="text/javascript">
								//<![CDATA[
								calendar.init('endTime');
								//]]>
							</script>
						</div>
						
						<?php if ($this->v['errorField'] == 'endTime') { ?>
							<p class="floatedElement innerError">
								<?php if ($this->v['errorType'] == 'invalid') { ?>Bitte geben Sie ein gültiges Datum ein!<?php } ?>
							</p>
						<?php } ?>
					</div>
				</fieldset>
			</div>
		</div>
		
		
		<div class="formElement">
			<div class="formFieldLabel">
				<label for="pollAnswers">Anzahl erlaubter Antworten</label>
			</div>
			<div class="formField<?php if ($this->v['errorField'] == 'choiceCount') { ?> formError<?php } ?>">
				<input type="text" class="inputText" name="choiceCount" value="<?php echo StringUtil::encodeHTML($this->v['choiceCount']); ?>" id="pollAnswers" />
				<?php if ($this->v['errorField'] == 'choiceCount') { ?>
					<p class="innerError">
						<?php if ($this->v['errorType'] == 'notValid') { ?>Die Anzahl der erlaubten Antworten ist unzulässig.<?php } ?>
						<?php if ($this->v['errorType'] == 'tooMuch') { ?>Die Anzahl der erlaubten Antworten ist größer als die Anzahl der zur Verfügung stehenden Antworten.<?php } ?>
					</p>
				<?php } ?>
			</div>
		</div>
		
		<div class="formElement">
			<div class="formField">
				<label><input type="checkbox" name="votesNotChangeable" value="1" <?php if ($this->v['votesNotChangeable'] == 1) { ?>checked="checked" <?php } ?>/> Einmal abgegebene Bewertungen dürfen nicht mehr verändert werden.</label>
			</div>
		</div>
		
		<div class="formElement">
			<div class="formField">
				<label><input type="checkbox" name="sortByResult" value="1" <?php if ($this->v['sortByResult'] == 1) { ?>checked="checked" <?php } ?>/> Ergebnis nach Stimmen sortieren</label>
			</div>
		</div>
		
		<?php if ($this->v['canStartPublicPoll']) { ?>
			<div class="formElement">
				<div class="formField">
					<label><input type="checkbox" name="isPublic" value="1" <?php if ($this->v['isPublic'] == 1) { ?>checked="checked" <?php } ?>/> Öffentliche Umfrage (Teilnehmer und deren Stimmen für alle sichtbar)</label>
				</div>
			</div>
		<?php } ?>
	</fieldset>
</div>

<script type="text/javascript">
	//<![CDATA[
	tabbedPane.addTab('pollEdit', <?php if ($this->v['errorField'] == 'pollOptions' || $this->v['errorField'] == 'choiceCount') { ?>true<?php } else { ?>false<?php } ?>);
	//]]>
</script>